<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Scene class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc2 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Scene Class Reference</h1><code>#include &lt;<a class="el" href="scene_8hpp-source.html">scene.hpp</a>&gt;</code>
<p>
Collaboration diagram for Scene:<p><center><img src="classScene__coll__graph.png" border="0" usemap="#Scene__coll__map" alt="Collaboration graph"></center>
<map name="Scene__coll__map">
<area href="classLight.html" shape="rect" coords="589,215,627,236" alt="">
<area href="classPatch.html" shape="rect" coords="308,203,351,224" alt="">
<area href="classVector.html" shape="rect" coords="19,288,67,310" alt="">
<area href="classCPhongEdf.html" shape="rect" coords="291,288,368,310" alt="">
<area href="classCPhongBrdf.html" shape="rect" coords="288,438,371,459" alt="">
<area href="classCamera.html" shape="rect" coords="439,555,495,576" alt="">
<area href="classMaterial.html" shape="rect" coords="580,335,636,356" alt="">
<area href="classKDTree.html" shape="rect" coords="580,594,636,615" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classScene-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#a0">Scene</a> (const char *lpszFileName, long samplesPerLight)</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#a1">~Scene</a> ()</td></tr>
<tr><td nowrap align=right valign=top>const char *&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#a2">getSceneFileName</a> ()</td></tr>
<tr><td colspan=2><br><h2>Public Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>char&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#m0">sceneFileName</a> [_MAX_PATH]</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classCamera.html">Camera</a>&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#m1">m_camera</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Scene camera.</em> <a href="#m1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classKDTree.html">KDTree</a> *&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#m2">m_pKDTree</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Space Partitioning data structure allowing fast ray-patch intersection lookup.</em> <a href="#m2"></a><em></em></font><br><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Scene vertices</div></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classVector.html">Vector</a> *&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z1_0">sceneVertices</a></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classVector.html">Vector</a> *&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z1_1">sceneVerticesNormals</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z1_2">nSceneVertices</a></td></tr>
<tr><td colspan="2"><div class="groupHeader">Scene patches</div></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classPatch.html">Patch</a> *&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z3_0">scenePatches</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z3_1">nScenePatches</a></td></tr>
<tr><td colspan="2"><div class="groupHeader">Scene materials</div></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classMaterial.html">Material</a> *&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z5_0">sceneMaterials</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z5_1">nSceneMaterials</a></td></tr>
<tr><td colspan="2"><div class="groupHeader">Scene Brdf functions</div></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classCPhongBrdf.html">CPhongBrdf</a> *&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z7_0">Brdfs</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z7_1">nBrdf</a></td></tr>
<tr><td colspan="2"><div class="groupHeader">Scene Edf functions</div></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classCPhongEdf.html">CPhongEdf</a> *&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z9_0">Edfs</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z9_1">nEdf</a></td></tr>
<tr><td colspan="2"><div class="groupHeader">Scene Lights and light samples</div></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classLight.html">Light</a> *&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z11_0">sceneLights</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z11_1">nSceneLights</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#z11_2">m_samplesPerLight</a></td></tr>
<tr><td colspan=2><br><h2>Protected Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#b0">Read</a> (const char *path)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Set up the scene from file.</em> <a href="#b0"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#b1">FinishInitializeScene</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Perform the final steps of scene initialization.</em> <a href="#b1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classScene.html#b2">FinishLights</a> (long numSceneLights)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>put area light sources to light source list</em> <a href="#b2"></a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Defines the scene to be rendered (patches, materials, lights). Also allows to load a scene and save the resulting image 
<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00010">10</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="Scene::Scene"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> Scene::Scene </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>lpszFileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>samplesPerLight</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8cpp-source.html#l00007">7</a> of file <a class="el" href="scene_8cpp-source.html">scene.cpp</a>.
<p>
References <a class="el" href="scene_8hpp-source.html#l00044">Brdfs</a>, <a class="el" href="scene_8hpp-source.html#l00050">Edfs</a>, <a class="el" href="scene_8cpp-source.html#l00065">FinishInitializeScene()</a>, <a class="el" href="scene_8hpp-source.html#l00070">m_pKDTree</a>, <a class="el" href="scene_8hpp-source.html#l00045">nBrdf</a>, <a class="el" href="scene_8hpp-source.html#l00051">nEdf</a>, <a class="el" href="scene_8hpp-source.html#l00057">nSceneLights</a>, <a class="el" href="scene_8hpp-source.html#l00039">nSceneMaterials</a>, <a class="el" href="scene_8hpp-source.html#l00033">nScenePatches</a>, <a class="el" href="scene_8hpp-source.html#l00027">nSceneVertices</a>, <a class="el" href="scene_8cpp-source.html#l00204">Read()</a>, <a class="el" href="scene_8hpp-source.html#l00063">sceneFileName</a>, <a class="el" href="scene_8hpp-source.html#l00056">sceneLights</a>, <a class="el" href="scene_8hpp-source.html#l00038">sceneMaterials</a>, <a class="el" href="scene_8hpp-source.html#l00032">scenePatches</a>, <a class="el" href="scene_8hpp-source.html#l00025">sceneVertices</a>, and <a class="el" href="scene_8hpp-source.html#l00026">sceneVerticesNormals</a>.
<p>
<div class="fragment"><pre>00008 : <a class="code" href="classScene.html#z11_2">m_samplesPerLight</a>(samplesPerLight)
00009 {
00010         <a class="code" href="classScene.html#m2">m_pKDTree</a> = NULL;
00011 
00012         <a class="code" href="classScene.html#z1_0">sceneVertices</a>=NULL;
00013         <a class="code" href="classScene.html#z1_1">sceneVerticesNormals</a>=NULL;
00014         <a class="code" href="classScene.html#z1_2">nSceneVertices</a>=0;
00015 
00016         <a class="code" href="classScene.html#z3_0">scenePatches</a>=NULL;
00017         <a class="code" href="classScene.html#z3_1">nScenePatches</a>=0;
00018 
00019         <a class="code" href="classScene.html#z5_0">sceneMaterials</a>=NULL;
00020         <a class="code" href="classScene.html#z5_1">nSceneMaterials</a>=0;
00021 
00022         <a class="code" href="classScene.html#z11_0">sceneLights</a>=NULL;
00023         <a class="code" href="classScene.html#z11_1">nSceneLights</a>=0;
00024 
00025         <a class="code" href="classScene.html#m0">sceneFileName</a>[0]=0;
00026 
00027         <a class="code" href="classScene.html#z7_0">Brdfs</a>=NULL;
00028         <a class="code" href="classScene.html#z7_1">nBrdf</a>=0;
00029 
00030         <a class="code" href="classScene.html#z9_0">Edfs</a>=NULL;
00031         <a class="code" href="classScene.html#z9_1">nEdf</a>=0;
00032 
00033         printf(<span class="stringliteral">"Loading %s ... "</span>, lpszFileName);
00034         <a class="code" href="classScene.html#b0">Read</a>(lpszFileName);
00035         printf(<span class="stringliteral">"Done.\n"</span>);
00036 
00037         <a class="code" href="classScene.html#b1">FinishInitializeScene</a>();
00038 
00039 <span class="comment">//      sceneFileName</span>
00040         <span class="keywordtype">char</span> drive[_MAX_DRIVE];
00041         <span class="keywordtype">char</span> dir[_MAX_DIR];
00042         <span class="keywordtype">char</span> fname[_MAX_FNAME];
00043         <span class="keywordtype">char</span> ext[_MAX_EXT];
00044         _splitpath( lpszFileName, drive, dir, fname, ext );
00045         _makepath( sceneFileName, drive, dir, fname, <span class="stringliteral">""</span>);
00046 };
</pre></div>    </td>
  </tr>
</table>
<a name="a1" doxytag="Scene::~Scene"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> Scene::~Scene </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8cpp-source.html#l00083">83</a> of file <a class="el" href="scene_8cpp-source.html">scene.cpp</a>.
<p>
References <a class="el" href="scene_8hpp-source.html#l00044">Brdfs</a>, <a class="el" href="scene_8hpp-source.html#l00050">Edfs</a>, <a class="el" href="scene_8hpp-source.html#l00070">m_pKDTree</a>, <a class="el" href="scene_8hpp-source.html#l00056">sceneLights</a>, <a class="el" href="scene_8hpp-source.html#l00038">sceneMaterials</a>, <a class="el" href="scene_8hpp-source.html#l00032">scenePatches</a>, <a class="el" href="scene_8hpp-source.html#l00025">sceneVertices</a>, and <a class="el" href="scene_8hpp-source.html#l00026">sceneVerticesNormals</a>.
<p>
<div class="fragment"><pre>00084 {
00085         <span class="keywordflow">if</span> (<a class="code" href="classScene.html#z1_0">sceneVertices</a> != NULL)
00086                 <span class="keyword">delete</span>[] <a class="code" href="classScene.html#z1_0">sceneVertices</a>;
00087 
00088         <span class="keywordflow">if</span> (<a class="code" href="classScene.html#z1_1">sceneVerticesNormals</a> != NULL)
00089                 <span class="keyword">delete</span>[] <a class="code" href="classScene.html#z1_1">sceneVerticesNormals</a>;
00090 
00091         <span class="keywordflow">if</span> (<a class="code" href="classScene.html#z3_0">scenePatches</a> != NULL)
00092                 <span class="keyword">delete</span>[] <a class="code" href="classScene.html#z3_0">scenePatches</a>;
00093 
00094         <span class="keywordflow">if</span> (sceneMaterials)
00095                 <span class="keyword">delete</span>[] <a class="code" href="classScene.html#z5_0">sceneMaterials</a>;
00096 
00097         <span class="keywordflow">if</span> (Brdfs) 
00098                 <span class="keyword">delete</span>[] <a class="code" href="classScene.html#z7_0">Brdfs</a>;
00099 
00100         <span class="keywordflow">if</span> (Edfs) 
00101                 <span class="keyword">delete</span>[] <a class="code" href="classScene.html#z9_0">Edfs</a>;
00102 
00103         <span class="keywordflow">if</span> (<a class="code" href="classScene.html#z11_0">sceneLights</a> != NULL)
00104                 <span class="keyword">delete</span>[] <a class="code" href="classScene.html#z11_0">sceneLights</a>;
00105 
00106         <span class="keywordflow">if</span> (m_pKDTree) <span class="keyword">delete</span> <a class="code" href="classScene.html#m2">m_pKDTree</a>;
00107 }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="b1" doxytag="Scene::FinishInitializeScene"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Scene::FinishInitializeScene </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Perform the final steps of scene initialization.
<p>

<p>
Definition at line <a class="el" href="scene_8cpp-source.html#l00065">65</a> of file <a class="el" href="scene_8cpp-source.html">scene.cpp</a>.
<p>
References <a class="el" href="scene_8cpp-source.html#l00050">FinishLights()</a>, <a class="el" href="World_8cpp-source.html#l00020">Intersectable::gMaxIndex</a>, <a class="el" href="World_8hpp-source.html#l00088">Intersectable::m_index</a>, <a class="el" href="scene_8hpp-source.html#l00070">m_pKDTree</a>, <a class="el" href="scene_8hpp-source.html#l00057">nSceneLights</a>, <a class="el" href="scene_8hpp-source.html#l00033">nScenePatches</a>, and <a class="el" href="scene_8hpp-source.html#l00032">scenePatches</a>.
<p>
Referenced by <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>.
<p>
<div class="fragment"><pre>00066 {
00067         <a class="code" href="classScene.html#z11_1">nSceneLights</a> = 0;
00068         <a class="code" href="classIntersectable.html">Intersectable</a>** objects = <span class="keyword">new</span> <a class="code" href="classIntersectable.html">Intersectable</a>*[<a class="code" href="classScene.html#z3_1">nScenePatches</a>];
00069         <a class="code" href="classIntersectable.html#p0">Patch::gMaxIndex</a> = 0;
00070         <span class="keywordflow">for</span> (<span class="keywordtype">long</span> j=0; j&lt;<a class="code" href="classScene.html#z3_1">nScenePatches</a>; j++) {
00071                 <a class="code" href="classScene.html#z3_0">scenePatches</a>[j].<a class="code" href="classIntersectable.html#m4">m_index</a> = <a class="code" href="classIntersectable.html#p0">Patch::gMaxIndex</a>++;
00072                 objects[j]=&amp;(<a class="code" href="classScene.html#z3_0">scenePatches</a>[j]);
00073                 <span class="keywordflow">if</span> (scenePatches[j].m_pMaterial-&gt;m_edf != NULL) 
00074                         <a class="code" href="classScene.html#z11_1">nSceneLights</a>++;
00075         }
00076 
00077         <a class="code" href="classScene.html#m2">m_pKDTree</a> = <span class="keyword">new</span> <a class="code" href="classKDTree.html">KDTree</a>(objects, nScenePatches);
00078         <span class="keyword">delete</span> objects;
00079 
00080         <a class="code" href="classScene.html#b2">FinishLights</a> (nSceneLights);
00081 }
</pre></div>    </td>
  </tr>
</table>
<a name="b2" doxytag="Scene::FinishLights"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Scene::FinishLights </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>numSceneLights</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
put area light sources to light source list
<p>

<p>
Definition at line <a class="el" href="scene_8cpp-source.html#l00050">50</a> of file <a class="el" href="scene_8cpp-source.html">scene.cpp</a>.
<p>
References <a class="el" href="World_8hpp-source.html#l00254">Light::Init()</a>, <a class="el" href="Phong_8hpp-source.html#l00153">Material::m_edf</a>, <a class="el" href="World_8hpp-source.html#l00068">Intersectable::m_pMaterial</a>, <a class="el" href="scene_8hpp-source.html#l00057">nSceneLights</a>, <a class="el" href="scene_8hpp-source.html#l00033">nScenePatches</a>, <a class="el" href="scene_8hpp-source.html#l00056">sceneLights</a>, and <a class="el" href="scene_8hpp-source.html#l00032">scenePatches</a>.
<p>
Referenced by <a class="el" href="scene_8cpp-source.html#l00065">FinishInitializeScene()</a>.
<p>
<div class="fragment"><pre>00051 {
00052         <a class="code" href="classScene.html#z11_1">nSceneLights</a> = numSceneLights;
00053         <a class="code" href="classScene.html#z11_0">sceneLights</a> = <span class="keyword">new</span> <a class="code" href="classLight.html">Light</a>[<a class="code" href="classScene.html#z11_1">nSceneLights</a>];
00054         
00055         <span class="keywordtype">long</span> j=0;
00056         <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classScene.html#z3_1">nScenePatches</a>; i++) {
00057                 <a class="code" href="classPatch.html">Patch</a>* pPatch = &amp;(<a class="code" href="classScene.html#z3_0">scenePatches</a> [i]);
00058                 <span class="keywordflow">if</span> (pPatch-&gt;<a class="code" href="classIntersectable.html#m0">m_pMaterial</a>-&gt;<a class="code" href="classMaterial.html#m1">m_edf</a> != NULL) {
00059                         <a class="code" href="classScene.html#z11_0">sceneLights</a> [j++].<a class="code" href="classLight.html#a1">Init</a>(pPatch, m_samplesPerLight);
00060                 }
00061         }
00062 }
</pre></div>    </td>
  </tr>
</table>
<a name="a2" doxytag="Scene::getSceneFileName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char* Scene::getSceneFileName </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00064">64</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="StIter_8cpp-source.html#l00397">StIter::saveImage()</a>.
<p>
<div class="fragment"><pre>00064 { <span class="keywordflow">return</span> <a class="code" href="classScene.html#m0">sceneFileName</a>; }
</pre></div>    </td>
  </tr>
</table>
<a name="b0" doxytag="Scene::Read"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Scene::Read </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>path</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set up the scene from file.
<p>

<p>
Definition at line <a class="el" href="scene_8cpp-source.html#l00204">204</a> of file <a class="el" href="scene_8cpp-source.html">scene.cpp</a>.
<p>
References <a class="el" href="World_8hpp-source.html#l00105">Triangle::a</a>, <a class="el" href="Vector_8hpp-source.html#l00193">Vector::Average()</a>, <a class="el" href="World_8hpp-source.html#l00105">Triangle::b</a>, <a class="el" href="scene_8hpp-source.html#l00044">Brdfs</a>, <a class="el" href="World_8hpp-source.html#l00105">Triangle::c</a>, <a class="el" href="World_8hpp-source.html#l00125">Triangle::CalculateArea()</a>, <a class="el" href="Camera_8cpp-source.html#l00027">Camera::CompleteCamera()</a>, <a class="el" href="scene_8hpp-source.html#l00050">Edfs</a>, <a class="el" href="globals_8hpp-source.html#l00009">EPSILON</a>, <a class="el" href="Camera_8hpp-source.html#l00011">Camera::eyep</a>, <a class="el" href="World_8cpp-source.html#l00038">Triangle::Finish()</a>, <a class="el" href="Phong_8hpp-source.html#l00126">CPhongEdf::FinishPhong()</a>, <a class="el" href="Phong_8hpp-source.html#l00091">CPhongBrdf::FinishPhong()</a>, <a class="el" href="Camera_8hpp-source.html#l00023">Camera::fov</a>, <a class="el" href="Phong_8hpp-source.html#l00123">CPhongEdf::kd</a>, <a class="el" href="Phong_8hpp-source.html#l00025">CPhongBrdf::Kd</a>, <a class="el" href="Phong_8hpp-source.html#l00028">CPhongBrdf::Ks</a>, <a class="el" href="Camera_8hpp-source.html#l00014">Camera::lookp</a>, <a class="el" href="Phong_8hpp-source.html#l00150">Material::m_brdf</a>, <a class="el" href="scene_8hpp-source.html#l00067">m_camera</a>, <a class="el" href="Phong_8hpp-source.html#l00153">Material::m_edf</a>, <a class="el" href="World_8hpp-source.html#l00068">Intersectable::m_pMaterial</a>, <a class="el" href="World_8hpp-source.html#l00114">Triangle::Na</a>, <a class="el" href="World_8hpp-source.html#l00114">Triangle::Nb</a>, <a class="el" href="scene_8hpp-source.html#l00045">nBrdf</a>, <a class="el" href="World_8hpp-source.html#l00114">Triangle::Nc</a>, <a class="el" href="scene_8hpp-source.html#l00051">nEdf</a>, <a class="el" href="World_8hpp-source.html#l00108">Triangle::normal</a>, <a class="el" href="Vector_8hpp-source.html#l00143">Vector::Normalize()</a>, <a class="el" href="Phong_8hpp-source.html#l00037">CPhongBrdf::Ns</a>, <a class="el" href="scene_8hpp-source.html#l00039">nSceneMaterials</a>, <a class="el" href="scene_8hpp-source.html#l00033">nScenePatches</a>, <a class="el" href="scene_8hpp-source.html#l00027">nSceneVertices</a>, <a class="el" href="scene_8cpp-source.html#l00109">readBuffer</a>, <a class="el" href="scene_8cpp-source.html#l00110">readBufferSize</a>, <a class="el" href="scene_8cpp-source.html#l00139">ReadColor()</a>, <a class="el" href="scene_8cpp-source.html#l00158">ReadDouble()</a>, <a class="el" href="scene_8cpp-source.html#l00177">ReadInt()</a>, <a class="el" href="scene_8cpp-source.html#l00195">ReadString()</a>, <a class="el" href="scene_8cpp-source.html#l00120">ReadVector()</a>, <a class="el" href="scene_8hpp-source.html#l00038">sceneMaterials</a>, <a class="el" href="scene_8hpp-source.html#l00032">scenePatches</a>, <a class="el" href="scene_8hpp-source.html#l00025">sceneVertices</a>, <a class="el" href="scene_8hpp-source.html#l00026">sceneVerticesNormals</a>, <a class="el" href="Vector_8hpp-source.html#l00027">Vector::Set()</a>, and <a class="el" href="Camera_8hpp-source.html#l00017">Camera::updir</a>.
<p>
Referenced by <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>.
<p>
<div class="fragment"><pre>00205 {
00206         FILE* file = fopen(path, <span class="stringliteral">"r+t"</span>);
00207         <span class="keywordflow">if</span> (file==NULL) {
00208                 printf(<span class="stringliteral">"ERROR: unable to open file '%s'\n"</span>, path);
00209                 exit(-1);
00210         }
00211 
00212         <span class="keywordtype">long</span> result = fseek(file, 0, SEEK_END);
00213         <span class="keywordtype">long</span> fSize = ftell(file);
00214         fseek (file, 0, SEEK_SET); 
00215 
00216         <a class="code" href="scene_8cpp.html#a0">readBuffer</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[fSize];
00217         <a class="code" href="scene_8cpp.html#a1">readBufferSize</a> = fread(readBuffer, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), fSize, file);
00218 
00219         <span class="keywordtype">char</span> s[512];
00220         <span class="comment">// camera</span>
00221         <a class="code" href="scene_8cpp.html#a12">ReadString</a>(s);
00222         <a class="code" href="classScene.html#m1">m_camera</a>.<a class="code" href="classCamera.html#m0">eyep</a>   = <a class="code" href="scene_8cpp.html#a4">ReadVector</a>();
00223         <a class="code" href="classScene.html#m1">m_camera</a>.<a class="code" href="classCamera.html#m2">updir</a>  = <a class="code" href="scene_8cpp.html#a4">ReadVector</a>();
00224         <a class="code" href="classScene.html#m1">m_camera</a>.<a class="code" href="classCamera.html#m1">lookp</a>  = <a class="code" href="scene_8cpp.html#a4">ReadVector</a>();
00225         <a class="code" href="classScene.html#m1">m_camera</a>.<a class="code" href="classCamera.html#m4">fov</a>    = (float)<a class="code" href="scene_8cpp.html#a8">ReadDouble</a>();
00226         <a class="code" href="classScene.html#m1">m_camera</a>.<a class="code" href="classCamera.html#a1">CompleteCamera</a> ();
00227 
00228         <a class="code" href="scene_8cpp.html#a12">ReadString</a>(s); <span class="comment">//"Materials\n");</span>
00229         <a class="code" href="classScene.html#z9_1">nEdf</a> = <a class="code" href="classScene.html#z7_1">nBrdf</a> = <a class="code" href="classScene.html#z5_1">nSceneMaterials</a> = <a class="code" href="scene_8cpp.html#a10">ReadInt</a>();
00230         <a class="code" href="classScene.html#z7_0">Brdfs</a> = <span class="keyword">new</span> <a class="code" href="classCPhongBrdf.html">CPhongBrdf</a>[nBrdf];
00231         <a class="code" href="classScene.html#z9_0">Edfs</a> = <span class="keyword">new</span> <a class="code" href="classCPhongEdf.html">CPhongEdf</a>[<a class="code" href="classScene.html#z9_1">nEdf</a>];
00232         <a class="code" href="classScene.html#z5_0">sceneMaterials</a> = <span class="keyword">new</span> <a class="code" href="classMaterial.html">Material</a>[nSceneMaterials];
00233 
00234         <span class="keywordtype">long</span> i;
00235         <span class="keywordflow">for</span> (i=0; i &lt; nBrdf; i++) {
00236                 <a class="code" href="classScene.html#z7_0">Brdfs</a>[i].<a class="code" href="classCPhongBrdf.html#m0">Kd</a> = <a class="code" href="scene_8cpp.html#a6">ReadColor</a>();      <span class="comment">// diffuseAlbedo</span>
00237                 <a class="code" href="classScene.html#z7_0">Brdfs</a>[i].<a class="code" href="classCPhongBrdf.html#m1">Ks</a> = <a class="code" href="scene_8cpp.html#a6">ReadColor</a>();      <span class="comment">// specularAlbedo</span>
00238                 <a class="code" href="classScene.html#z7_0">Brdfs</a>[i].<a class="code" href="classCPhongBrdf.html#m4">Ns</a> = (float)<a class="code" href="scene_8cpp.html#a8">ReadDouble</a>();      <span class="comment">// shine</span>
00239                 <a class="code" href="classScene.html#z9_0">Edfs</a>[i].<a class="code" href="classCPhongEdf.html#m1">kd</a> =  <a class="code" href="scene_8cpp.html#a6">ReadColor</a>();      <span class="comment">// diffuse radiosity</span>
00240 
00241                 <a class="code" href="classScene.html#z5_0">sceneMaterials</a>[i].<a class="code" href="classMaterial.html#m0">m_brdf</a> = &amp;<a class="code" href="classScene.html#z7_0">Brdfs</a>[i];
00242                 <span class="keywordflow">if</span> (<a class="code" href="classScene.html#z9_0">Edfs</a>[i].<a class="code" href="classCPhongEdf.html#m1">kd</a>.<a class="code" href="classVector.html#a28">Average</a>()&lt;<a class="code" href="globals_8hpp.html#a0">EPSILON</a>) <a class="code" href="classScene.html#z5_0">sceneMaterials</a>[i].<a class="code" href="classMaterial.html#m1">m_edf</a> = NULL;
00243                 <span class="keywordflow">else</span> <a class="code" href="classScene.html#z5_0">sceneMaterials</a>[i].<a class="code" href="classMaterial.html#m1">m_edf</a> = &amp;<a class="code" href="classScene.html#z9_0">Edfs</a>[i];
00244 
00245                 <a class="code" href="classScene.html#z7_0">Brdfs</a>[i].<a class="code" href="classCPhongBrdf.html#a16">FinishPhong</a>();
00246                 <a class="code" href="classScene.html#z9_0">Edfs</a>[i].<a class="code" href="classCPhongEdf.html#a0">FinishPhong</a>();
00247         }
00248 
00249         <span class="comment">// vertices</span>
00250         <a class="code" href="scene_8cpp.html#a12">ReadString</a>(s); <span class="comment">//"vertices\n");</span>
00251         <a class="code" href="classScene.html#z1_2">nSceneVertices</a> = <a class="code" href="scene_8cpp.html#a10">ReadInt</a>();
00252         <a class="code" href="classScene.html#z1_0">sceneVertices</a> = <span class="keyword">new</span> <a class="code" href="classVector.html">Vector</a>[<a class="code" href="classScene.html#z1_2">nSceneVertices</a>];
00253         <a class="code" href="classScene.html#z1_1">sceneVerticesNormals</a> = <span class="keyword">new</span> Vector[<a class="code" href="classScene.html#z1_2">nSceneVertices</a>];
00254         <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="classScene.html#z1_2">nSceneVertices</a>; i++) {
00255                 <a class="code" href="classScene.html#z1_0">sceneVertices</a>[i] = <a class="code" href="scene_8cpp.html#a4">ReadVector</a>();
00256                 <a class="code" href="classScene.html#z1_1">sceneVerticesNormals</a>[i].<a class="code" href="classVector.html#a2">Set</a>(0.0f, 0.0f, 0.0f);
00257         }
00258 
00259 
00260         <span class="comment">// objects</span>
00261         <a class="code" href="scene_8cpp.html#a12">ReadString</a>(s); <span class="comment">//"objects\n");</span>
00262         <a class="code" href="classScene.html#z3_1">nScenePatches</a> = <a class="code" href="scene_8cpp.html#a10">ReadInt</a>();
00263         <a class="code" href="classScene.html#z3_0">scenePatches</a> = <span class="keyword">new</span> <a class="code" href="classPatch.html">Patch</a>[<a class="code" href="classScene.html#z3_1">nScenePatches</a>];
00264         <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="classScene.html#z3_1">nScenePatches</a>; i++) {
00265                 <span class="keywordtype">long</span> materialInd = <a class="code" href="scene_8cpp.html#a10">ReadInt</a>();
00266 
00267                 <span class="keywordtype">long</span> ai = <a class="code" href="scene_8cpp.html#a10">ReadInt</a>();
00268                 <span class="keywordtype">long</span> bi = <a class="code" href="scene_8cpp.html#a10">ReadInt</a>();
00269                 <span class="keywordtype">long</span> ci = <a class="code" href="scene_8cpp.html#a10">ReadInt</a>();
00270                 <a class="code" href="scene_8cpp.html#a12">ReadString</a>(s); <span class="comment">//"---\n");</span>
00271 
00272                 <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m0">a</a> = &amp;<a class="code" href="classScene.html#z1_0">sceneVertices</a>[ai];
00273                 <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m5">Na</a> = &amp;<a class="code" href="classScene.html#z1_1">sceneVerticesNormals</a>[ai];
00274 
00275                 <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m1">b</a> = &amp;<a class="code" href="classScene.html#z1_0">sceneVertices</a>[bi];
00276                 <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m6">Nb</a> = &amp;<a class="code" href="classScene.html#z1_1">sceneVerticesNormals</a>[bi];
00277 
00278                 <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m2">c</a> = &amp;<a class="code" href="classScene.html#z1_0">sceneVertices</a>[ci];
00279                 <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m7">Nc</a> = &amp;<a class="code" href="classScene.html#z1_1">sceneVerticesNormals</a>[ci];
00280 
00281                 <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classIntersectable.html#m0">m_pMaterial</a> = &amp;<a class="code" href="classScene.html#z5_0">sceneMaterials</a>[materialInd];
00282 
00283                 <span class="comment">// 2. calculate normal</span>
00284                 Vector va = <a class="code" href="classScene.html#z1_0">sceneVertices</a>[bi] - sceneVertices[ai]; 
00285                 Vector vb = sceneVertices[ci] - sceneVertices[bi];
00286                 <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m3">normal</a> = va &amp;&amp; vb;      <span class="comment">//cross product</span>
00287                 <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m3">normal</a>.<a class="code" href="classVector.html#a20">Normalize</a>();
00288         }
00289 
00290         fclose(file);
00291 
00292         <span class="comment">// finishScene</span>
00293         <span class="keywordflow">for</span> (i = 0; i &lt; nScenePatches; i++) {
00294                 <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#a6">Finish</a>();
00295                 <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#a4">CalculateArea</a> ();
00296         }
00297 
00298         <span class="comment">// compute shading normals of vertices</span>
00299         <span class="keywordflow">for</span> (i = 0; i &lt; nScenePatches; i++) {
00300                 *<a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m5">Na</a> += <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m3">normal</a>;
00301                 *<a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m6">Nb</a> += <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m3">normal</a>;
00302                 *<a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m7">Nc</a> += <a class="code" href="classScene.html#z3_0">scenePatches</a>[i].<a class="code" href="classTriangle.html#m3">normal</a>;
00303         }
00304 
00305         <span class="keywordflow">for</span> (i = 0; i &lt; nSceneVertices; i++)
00306                 <a class="code" href="classScene.html#z1_1">sceneVerticesNormals</a>[i].<a class="code" href="classVector.html#a20">Normalize</a>();
00307 }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="z7_0" doxytag="Scene::Brdfs"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classCPhongBrdf.html">CPhongBrdf</a>* Scene::Brdfs
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00044">44</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="scene_8cpp-source.html#l00204">Read()</a>, <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>, and <a class="el" href="scene_8cpp-source.html#l00083">~Scene()</a>.    </td>
  </tr>
</table>
<a name="z9_0" doxytag="Scene::Edfs"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classCPhongEdf.html">CPhongEdf</a>* Scene::Edfs
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00050">50</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="scene_8cpp-source.html#l00204">Read()</a>, <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>, and <a class="el" href="scene_8cpp-source.html#l00083">~Scene()</a>.    </td>
  </tr>
</table>
<a name="m1" doxytag="Scene::m_camera"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classCamera.html">Camera</a> Scene::m_camera
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Scene camera.
<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00067">67</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="StIter_8cpp-source.html#l00250">StIter::CalculateDirectLight()</a>, <a class="el" href="StIter_8cpp-source.html#l00099">StIter::DetermineVisibility()</a>, <a class="el" href="StIter_8cpp-source.html#l00966">StIter::MergeIndirectOpenGLImage()</a>, <a class="el" href="StIter_8cpp-source.html#l01049">StIter::RBOpenGLRenderScene()</a>, <a class="el" href="scene_8cpp-source.html#l00204">Read()</a>, and <a class="el" href="StIter_8cpp-source.html#l00009">StIter::StIter()</a>.    </td>
  </tr>
</table>
<a name="m2" doxytag="Scene::m_pKDTree"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classKDTree.html">KDTree</a>* Scene::m_pKDTree
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Space Partitioning data structure allowing fast ray-patch intersection lookup.
<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00070">70</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="StIter_8cpp-source.html#l00411">StIter::DoIteration()</a>, <a class="el" href="scene_8cpp-source.html#l00065">FinishInitializeScene()</a>, <a class="el" href="StIter_8cpp-source.html#l00279">StIter::SampleLightSources()</a>, <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>, and <a class="el" href="scene_8cpp-source.html#l00083">~Scene()</a>.    </td>
  </tr>
</table>
<a name="z11_2" doxytag="Scene::m_samplesPerLight"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long Scene::m_samplesPerLight
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00058">58</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="StIter_8cpp-source.html#l00397">StIter::saveImage()</a>, and <a class="el" href="StIter_8cpp-source.html#l00009">StIter::StIter()</a>.    </td>
  </tr>
</table>
<a name="z7_1" doxytag="Scene::nBrdf"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long Scene::nBrdf
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00045">45</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="scene_8cpp-source.html#l00204">Read()</a>, and <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>.    </td>
  </tr>
</table>
<a name="z9_1" doxytag="Scene::nEdf"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long Scene::nEdf
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00051">51</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="scene_8cpp-source.html#l00204">Read()</a>, and <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>.    </td>
  </tr>
</table>
<a name="z11_1" doxytag="Scene::nSceneLights"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long Scene::nSceneLights
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00057">57</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="scene_8cpp-source.html#l00065">FinishInitializeScene()</a>, <a class="el" href="scene_8cpp-source.html#l00050">FinishLights()</a>, <a class="el" href="StIter_8cpp-source.html#l00279">StIter::SampleLightSources()</a>, and <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>.    </td>
  </tr>
</table>
<a name="z5_1" doxytag="Scene::nSceneMaterials"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long Scene::nSceneMaterials
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00039">39</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="scene_8cpp-source.html#l00204">Read()</a>, and <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>.    </td>
  </tr>
</table>
<a name="z3_1" doxytag="Scene::nScenePatches"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long Scene::nScenePatches
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00033">33</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="StIter_8cpp-source.html#l00929">StIter::CalculateVertexColors()</a>, <a class="el" href="StIter_8cpp-source.html#l00099">StIter::DetermineVisibility()</a>, <a class="el" href="StIter_8cpp-source.html#l00917">StIter::FinalizeLtoEye()</a>, <a class="el" href="scene_8cpp-source.html#l00065">FinishInitializeScene()</a>, <a class="el" href="scene_8cpp-source.html#l00050">FinishLights()</a>, <a class="el" href="StIter_8cpp-source.html#l01049">StIter::RBOpenGLRenderScene()</a>, <a class="el" href="scene_8cpp-source.html#l00204">Read()</a>, <a class="el" href="StIter_8cpp-source.html#l00360">StIter::render()</a>, <a class="el" href="StIter_8cpp-source.html#l00397">StIter::saveImage()</a>, <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>, and <a class="el" href="StIter_8cpp-source.html#l00009">StIter::StIter()</a>.    </td>
  </tr>
</table>
<a name="z1_2" doxytag="Scene::nSceneVertices"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long Scene::nSceneVertices
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00027">27</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="StIter_8cpp-source.html#l00929">StIter::CalculateVertexColors()</a>, <a class="el" href="scene_8cpp-source.html#l00204">Read()</a>, <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>, and <a class="el" href="StIter_8cpp-source.html#l00009">StIter::StIter()</a>.    </td>
  </tr>
</table>
<a name="m0" doxytag="Scene::sceneFileName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char Scene::sceneFileName[_MAX_PATH]
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
contains the file name including the full path, excluding the .extension 
<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00063">63</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>.    </td>
  </tr>
</table>
<a name="z11_0" doxytag="Scene::sceneLights"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classLight.html">Light</a>* Scene::sceneLights
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00056">56</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="scene_8cpp-source.html#l00050">FinishLights()</a>, <a class="el" href="StIter_8cpp-source.html#l00279">StIter::SampleLightSources()</a>, <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>, and <a class="el" href="scene_8cpp-source.html#l00083">~Scene()</a>.    </td>
  </tr>
</table>
<a name="z5_0" doxytag="Scene::sceneMaterials"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classMaterial.html">Material</a>* Scene::sceneMaterials
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00038">38</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="scene_8cpp-source.html#l00204">Read()</a>, <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>, and <a class="el" href="scene_8cpp-source.html#l00083">~Scene()</a>.    </td>
  </tr>
</table>
<a name="z3_0" doxytag="Scene::scenePatches"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classPatch.html">Patch</a>* Scene::scenePatches
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00032">32</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="StIter_8cpp-source.html#l00929">StIter::CalculateVertexColors()</a>, <a class="el" href="StIter_8cpp-source.html#l00099">StIter::DetermineVisibility()</a>, <a class="el" href="StIter_8cpp-source.html#l00411">StIter::DoIteration()</a>, <a class="el" href="StIter_8cpp-source.html#l00917">StIter::FinalizeLtoEye()</a>, <a class="el" href="scene_8cpp-source.html#l00065">FinishInitializeScene()</a>, <a class="el" href="scene_8cpp-source.html#l00050">FinishLights()</a>, <a class="el" href="StIter_8cpp-source.html#l00785">StIter::GenerateImportanceDirection()</a>, <a class="el" href="StIter_8cpp-source.html#l00753">StIter::GenerateRadianceDirection()</a>, <a class="el" href="StIter_8cpp-source.html#l00867">StIter::getImportance()</a>, <a class="el" href="StIter_8cpp-source.html#l00838">StIter::getRadiance()</a>, <a class="el" href="StIter_8cpp-source.html#l01049">StIter::RBOpenGLRenderScene()</a>, <a class="el" href="scene_8cpp-source.html#l00204">Read()</a>, <a class="el" href="StIter_8cpp-source.html#l00360">StIter::render()</a>, <a class="el" href="StIter_8cpp-source.html#l00279">StIter::SampleLightSources()</a>, <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>, <a class="el" href="StIter_8cpp-source.html#l00009">StIter::StIter()</a>, and <a class="el" href="scene_8cpp-source.html#l00083">~Scene()</a>.    </td>
  </tr>
</table>
<a name="z1_0" doxytag="Scene::sceneVertices"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classVector.html">Vector</a>* Scene::sceneVertices
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00025">25</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="StIter_8cpp-source.html#l00929">StIter::CalculateVertexColors()</a>, <a class="el" href="StIter_8cpp-source.html#l01049">StIter::RBOpenGLRenderScene()</a>, <a class="el" href="scene_8cpp-source.html#l00204">Read()</a>, <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>, and <a class="el" href="scene_8cpp-source.html#l00083">~Scene()</a>.    </td>
  </tr>
</table>
<a name="z1_1" doxytag="Scene::sceneVerticesNormals"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classVector.html">Vector</a>* Scene::sceneVerticesNormals
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scene_8hpp-source.html#l00026">26</a> of file <a class="el" href="scene_8hpp-source.html">scene.hpp</a>.
<p>
Referenced by <a class="el" href="scene_8cpp-source.html#l00204">Read()</a>, <a class="el" href="scene_8cpp-source.html#l00007">Scene()</a>, and <a class="el" href="scene_8cpp-source.html#l00083">~Scene()</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="scene_8hpp-source.html">scene.hpp</a><li><a class="el" href="scene_8cpp-source.html">scene.cpp</a></ul>
<hr><address style="align: right;"><small>Generated on Tue Feb 18 18:30:50 2003 for Stochastic Iteration for Non-diffuse Global Illumination by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc2 </small></address>
</body>
</html>
